# 计算机组成结构notes

## 冯·诺依曼体系结构

### 内部总线

通过内部总线 —>传递数据

地址线的作用是？

### 运算器

核心单元ALU：详见ALU部分

通用寄存器 R0-Rn-1 有n个

### 控制器

同步控制：由同一时序信号控制的方式

控制电路—>控制逻辑

CPU控制器：IR 指令寄存器

PC 用于下一条指令的存储单元地址

MAR—地址总线

MDR—数据总线

指令译码器

### 存储器

与cpu通过总线连接

MAR（address）—地址总线

MDR（data）—数据总线

### 输入设备

南桥芯片 集成各种输入输出设备

显卡

北桥芯片：连接cpu

北桥和南桥相连

北桥：pcie控制器 主存控制器

南桥连接bios驱动操作系统



如今南北桥已经消失：

CPU 连接pci与内存

PCH连其他（IO等）



### 输出设备

## 指令系统体系结构

### 取指

控制器的指令地址->存储器（通过MAR)

存储器指令送回->控制器 (通过MDR)

### 译码

指令的设计问题？

使用霍夫曼树设计指令





### 执行

操作很像取指

### 回写

### 指令操作：

ADD RO [6] =  MOV R0 R0+[6] 

LOAD R M = 将M中的内容装入R

STORE M R = 将R的内容存入M

JMP L = 转向L处

R 为寄存器



指令的格式

xxxx xxxx xxxx xxxx

操作码4 寄存器编号4  存储单元地址8

### X86体系结构



运算类

传送类

转移类

控制类

#### 通用寄存器

intel 8086:

数据寄存器





标志寄存器（留一个flags）

cpu的工作状态

对cpu的运行起到控制作用

 

IP寄存器



IA-16 -> IA-32 

寄存器长度的变化

 堆栈如何保存现场？





#### RSIC 

精简指令系统计算机 —> 与x86相反

应用于其他设备（少用于计算机）

MIPS:

​	固定的指令长度（32 位 1 word）

​	简单的寻址等

​	指令少

R型 i型 J型三种指令

## 算术逻辑单元（ALU）

### 算数运算指令：

加法器如何实现？





### 逻辑运算指令：



### 晶体管

CMOS 互补性晶体管

通用寄存器的基本原理：

多个D触发器构成计算器（详见D触发器）

### 加法 

### 乘法

### 除法

## 处理器

### 单周期处理器的设计方法



## 流水线处理器

## 存储层次结构

## I/O



